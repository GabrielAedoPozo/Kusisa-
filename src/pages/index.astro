---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';

import "../styles/style.css";
import '@fontsource/dm-serif-text';


---

<Layout>
    <Navbar />
    
    <section id="inicio">
        <h1>Kusisa Repostería</h1>
        <p>Endulzamos tus momentos especiales</p>
        <i class="fa-solid fa-arrow-down"></i>
    </section>

    <section id="especialidades">
        <div class="container">
            <h2 class="scroll-reveal">Nuestras Especialidades</h2>
            <p class="section-subtitle scroll-reveal delay-1">Creaciones únicas hechas con amor y los mejores ingredientes</p>
            <div class="products-grid">
                <div class="product-card scroll-reveal-scale delay-2">
                    <div class="product-image">
                        <i class="fa-solid fa-birthday-cake"></i>
                    </div>
                    <h3>Tortas Personalizadas</h3>
                    <p>Diseños únicos para celebraciones especiales. Cada torta es una obra de arte comestible.</p>
                </div>
                <div class="product-card scroll-reveal-scale delay-3">
                    <div class="product-image">
                        <i class="fa-solid fa-utensils"></i>
                    </div>
                    <h3>Cupcakes Gourmet</h3>
                    <p>Deliciosos cupcakes con sabores únicos y decoraciones espectaculares.</p>
                </div>
                <div class="product-card scroll-reveal-scale delay-4">
                    <div class="product-image">
                        <i class="fa-solid fa-candy-cane"></i>
                    </div>
                    <h3>Postres Tradicionales</h3>
                    <p>Los clásicos de siempre con un toque especial que los hace inolvidables.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="sobre-nosotros">
        <div class="container">
            <div class="about-content">
                <div class="about-text scroll-reveal-left">
                    <h2>Sobre Nosotros</h2>
                    <p>En <strong>Kusisa Repostería</strong>, cada dulce cuenta una historia. Desde 2020, nos hemos dedicado a crear momentos especiales a través de nuestras creaciones artesanales.</p>
                    <p>Nuestra pasión por la repostería nos impulsa a innovar constantemente, combinando técnicas tradicionales con sabores modernos para sorprender a nuestros clientes. <a href="#" class="story-link" id="openHistoryModal">Conoce nuestra historia</a></p>
                    <div class="values">
                        <div class="value-item scroll-reveal delay-2">
                            <i class="fa-solid fa-heart"></i>
                            <span>Hecho con amor</span>
                        </div>
                        <div class="value-item scroll-reveal delay-3">
                            <i class="fa-solid fa-leaf"></i>
                            <span>Ingredientes frescos</span>
                        </div>
                        <div class="value-item scroll-reveal delay-4">
                            <i class="fa-solid fa-star"></i>
                            <span>Calidad premium</span>
                        </div>
                    </div>
                </div>
                <div class="about-image scroll-reveal-right">
                    <div class="image-placeholder">
                        <i class="fa-solid fa-kitchen-set"></i>
                        <p>Nuestra cocina</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="testimonios">
        <div class="container">
            <h2 class="scroll-reveal">Lo que dicen nuestros clientes</h2>
            <div class="testimonials-grid">
                <div class="testimonial-card scroll-reveal-scale delay-1">
                    <div class="stars">
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                    </div>
                    <p>"La torta de cumpleaños de mi hija fue perfecta. El diseño superó nuestras expectativas y el sabor fue increíble."</p>
                    <div class="client-info">
                        <strong>María González</strong>
                        <span>Cliente frecuente</span>
                    </div>
                </div>
                <div class="testimonial-card scroll-reveal-scale delay-2">
                    <div class="stars">
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                    </div>
                    <p>"Los cupcakes para nuestra boda fueron espectaculares. Todos los invitados quedaron encantados."</p>
                    <div class="client-info">
                        <strong>Carlos y Ana</strong>
                        <span>Boda 2024</span>
                    </div>
                </div>
                <div class="testimonial-card scroll-reveal-scale delay-3">
                    <div class="stars">
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                        <i class="fa-solid fa-star"></i>
                    </div>
                    <p>"Atención personalizada y productos de alta calidad. Sin duda, la mejor repostería de la ciudad."</p>
                    <div class="client-info">
                        <strong>Roberto Silva</strong>
                        <span>Evento corporativo</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="catalogo">
        <div class="container">
            <h2 class="scroll-reveal">Nuestro Catálogo</h2>
            <p class="section-subtitle scroll-reveal delay-1">Conoce nuestras deliciosas creaciones</p>
            
            <div class="catalog-carousel scroll-reveal delay-2">
                <button class="carousel-btn prev" id="prevBtn">
                    <i class="fa-solid fa-chevron-left"></i>
                </button>
                
                <div class="carousel-container">
                    <div class="carousel-track" id="carouselTrack">
                        <div class="catalog-item active">
                            <div class="catalog-image">
                                <img src="/Kusisa-/torta-fresa.jpg" alt="Torta de chocolate">
                            </div>
                            <div class="catalog-info">
                                <h3>Torta totalmente personalizada</h3>
                                <p>Deliciosa torta de chocolate con ganache y decoración elegante</p>
                            </div>
                        </div>
                        
                        <div class="catalog-item">
                            <div class="catalog-image">
                                <img src="/Kusisa-/cupcake.jpg" alt="Cupcakes variados">
                            </div>
                            <div class="catalog-info">
                                <h3>Cupcakes Variados</h3>
                                <p>Set de 12 cupcakes con diferentes sabores y decoraciones</p>
                            </div>
                        </div>
                        
                        <div class="catalog-item">
                            <div class="catalog-image">
                                <img src="/Kusisa-/torta-rosada.jpg" alt="Torta de bodas">
                            </div>
                            <div class="catalog-info">
                                <h3>Tortas distintas</h3>
                                <p>Elegante torta de 3 pisos para celebraciones especiales</p>
                            </div>
                        </div>
                        
                        <div class="catalog-item">
                            <div class="catalog-image">
                                <img src="/Kusisa-/galletas.jpg" alt="Macarons">
                            </div>
                            <div class="catalog-info">
                                <h3>Galletas</h3>
                                <p>Caja de 24 macarons en sabores gourmet</p>
                            </div>
                        </div>
                        
                        <div class="catalog-item">
                            <div class="catalog-image">
                                <img src="/Kusisa-/torta-blanca.jpg" alt="Cheesecake">
                            </div>
                            <div class="catalog-info">
                                <h3>Cheesecake de Frutos Rojos</h3>
                                <p>Cremoso cheesecake con salsa de frutos rojos frescos</p>
                            </div>
                        </div>
                        
                        <div class="catalog-item">
                            <div class="catalog-image">
                                <img src="/Kusisa-/brownies.jpg" alt="Brownies">
                            </div>
                            <div class="catalog-info">
                                <h3>Brownies Gourmet</h3>
                                <p>Brownies de chocolate con nueces y cobertura especial</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <button class="carousel-btn next" id="nextBtn">
                    <i class="fa-solid fa-chevron-right"></i>
                </button>
            </div>
            
            <div class="carousel-dots" id="carouselDots">
                <span class="dot active" data-slide="0"></span>
                <span class="dot" data-slide="1"></span>
                <span class="dot" data-slide="2"></span>
                <span class="dot" data-slide="3"></span>
                <span class="dot" data-slide="4"></span>
                <span class="dot" data-slide="5"></span>
            </div>
            
            <div class="contact-cta scroll-reveal delay-3">
                <p>¿Te interesa algún producto? ¡Contáctanos!</p>
                <div class="contact-buttons">
                    <a href="https://wa.me/51946126449" class="cta-btn whatsapp" target="_blank">
                        <i class="fa-brands fa-whatsapp"></i>
                        WhatsApp
                    </a>
                    <a href="tel:+51946126449" class="cta-btn phone">
                        <i class="fa-solid fa-phone"></i>
                        Llamar
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal de Historia -->
    <div id="historyModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Nuestros Inicios</h2>
                <span class="close" id="closeModal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="story-content">
                    <!-- Contenedor para imagen grande -->
                    <div class="modal-image-container">
                        <img src="/Kusisa-/img-kusisa.jpg" 
                             alt="Historia de Kusisa Repostería" 
                             class="modal-large-image">
                    </div>
                    
                    <div class="story-text">
                        <h3>¿Cómo comenzó todo?</h3>
                        <p>En el año 2020, en plena pandemia, <strong>Kusisa Repostería</strong> nació de la pasión y el amor por la repostería de nuestra fundadora. Lo que comenzó como un hobby en la cocina de casa, se convirtió en el sueño de endulzar los momentos especiales de las familias.</p>
                        
                        <p>El nombre "Kusisa" proviene del quechua y significa "alegría" o "felicidad". Elegimos este nombre porque creemos que cada postre que creamos debe transmitir esa sensación de alegría que todos buscamos en los momentos especiales.</p>
                        
                        <h4>Los primeros pasos</h4>
                        <p>Comenzamos vendiendo cupcakes a amigos y familiares. Cada pedido era una oportunidad para perfeccionar nuestras recetas y técnicas. La respuesta fue tan positiva que decidimos expandir nuestro catálogo.</p>
                    
                        
                        <div class="mission-vision-modal">
                            <div class="mission-modal">
                                <h4><i class="fa-solid fa-heart"></i> Nuestra Misión</h4>
                                <p>Crear momentos inolvidables a través de postres artesanales que despierten emociones y conecten a las personas en sus celebraciones más importantes.</p>
                            </div>
                            
                            <div class="vision-modal">
                                <h4><i class="fa-solid fa-star"></i> Nuestra Visión</h4>
                                <p>Ser la repostería de referencia en nuestra ciudad, reconocida por la calidad excepcional, creatividad y el servicio personalizado que brindamos a cada cliente.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Botones flotantes de redes sociales -->
    <div class="floating-social">
        <a href="https://wa.me/51946126449" class="social-float whatsapp-float" target="_blank">
            <i class="fa-brands fa-whatsapp"></i>
        </a>
        <a href="https://www.instagram.com/kusisa_reposteria/" class="social-float instagram-float" target="_blank">
            <i class="fa-brands fa-instagram"></i>
        </a>
        <a href="https://facebook.com/kusisareposteria" class="social-float facebook-float" target="_blank">
            <i class="fa-brands fa-facebook"></i>
        </a>
    </div>

    <script>
        // Scroll Reveal Animation
        document.addEventListener('DOMContentLoaded', function() {
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const delay = entry.target.classList.contains('delay-1') ? 100 :
                                     entry.target.classList.contains('delay-2') ? 200 :
                                     entry.target.classList.contains('delay-3') ? 300 :
                                     entry.target.classList.contains('delay-4') ? 400 : 0;
                        
                        setTimeout(() => {
                            entry.target.classList.add('revealed');
                        }, delay);
                        
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            // Observar elementos con animaciones
            const elementsToAnimate = document.querySelectorAll('.scroll-reveal, .scroll-reveal-left, .scroll-reveal-right, .scroll-reveal-scale');
            elementsToAnimate.forEach(el => observer.observe(el));

            // Smooth scroll para enlaces
            const navLinks = document.querySelectorAll('a[href^="#"]');
            navLinks.forEach(anchor => {
                anchor.addEventListener('click', (e) => {
                    e.preventDefault();
                    const href = anchor.getAttribute('href');
                    if (href) {
                        const target = document.querySelector(href);
                        if (target) {
                            const offsetTop = target.getBoundingClientRect().top + window.pageYOffset - 80;
                            window.scrollTo({
                                top: offsetTop,
                                behavior: 'smooth'
                            });
                        }
                    }
                });
            });

            // Animación inicial del hero
            setTimeout(() => {
                const heroElements = document.querySelectorAll('#inicio h1, #inicio p, #inicio i');
                heroElements.forEach((el, index) => {
                    setTimeout(() => {
                        const element = el as HTMLElement;
                        element.style.opacity = '1';
                        element.style.transform = 'translateY(0)';
                    }, index * 200);
                });
            }, 500);

            // Carousel functionality
            const track = document.getElementById('carouselTrack');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const dots = document.querySelectorAll('.dot');
            
            if (track && prevBtn && nextBtn) {
                let currentSlide = 0;
                const totalSlides = document.querySelectorAll('.catalog-item').length;
                
                function updateCarousel() {
                    const slideWidth = 100;
                    if (track) {
                        track.style.transform = `translateX(-${currentSlide * slideWidth}%)`;
                    }
                    
                    // Update dots
                    dots.forEach((dot, index) => {
                        dot.classList.toggle('active', index === currentSlide);
                    });
                }
                
                function nextSlide() {
                    currentSlide = (currentSlide + 1) % totalSlides;
                    updateCarousel();
                }
                
                function prevSlide() {
                    currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
                    updateCarousel();
                }
                
                nextBtn.addEventListener('click', nextSlide);
                prevBtn.addEventListener('click', prevSlide);
                
                // Dot navigation
                dots.forEach((dot, index) => {
                    dot.addEventListener('click', () => {
                        currentSlide = index;
                        updateCarousel();
                    });
                });
                
                // Auto-play carousel
                setInterval(nextSlide, 5000);
            }

            // Modal functionality
            const modal = document.getElementById('historyModal');
            const openModalBtn = document.getElementById('openHistoryModal');
            const closeModalBtn = document.getElementById('closeModal');
            
            if (modal && openModalBtn && closeModalBtn) {
                openModalBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    modal.style.display = 'block';
                    document.body.style.overflow = 'hidden';
                });
                
                closeModalBtn.addEventListener('click', () => {
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                });
                
                window.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        modal.style.display = 'none';
                        document.body.style.overflow = 'auto';
                    }
                });
            }
        });
    </script>
</Layout>
